<link rel="import" href="../bower_components/polymer/polymer.html">

<dom-module id="assignment-list">
    <script src="../bower_components/jquery-2.1.0.min/index.js"></script>

    <template>
        <paper-menu class="list">
            <template is="dom-repeat" items="{{assignments}}">
                <paper-button on-click="doClick" id="assignment_item_{{index}}">{{item.Description}}</paper-button>
            </template>
        </paper-menu>

    </template>
    <script>
        Polymer({
            is: 'assignment-list',
            properties: {
                assignments: [],
                assignmentId: 1
            },
            ready: function () {
                var self = this;
                $.get("http://" + document.location.hostname + ":50906/Assignments.aspx", function (data) {
                    self.assignments = [];
                    for (var i = 0; i < data.length; i++)
                        self.push('assignments', data[i]);
                    console.log("done");
                });
            },
            doClick: function (e) {
                console.log(e.model.item.Description + ' clicked.');
                this.fire('assignment-clicked', { assignment: e.model.item });
            }
        });
    </script>

</dom-module>
